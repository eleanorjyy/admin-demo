(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},133:function(e,t,a){},136:function(e,t,a){var n=a(89),l=a(90),i=a(31),r={createBox:function(e){var t={id:e,name:i[e].name,addr:i[e].addr,phone:i[e].info,deal:i[e].dealed,complete:i[e].complete,tracking:i[e].tracknum};console.log(t),n.dispatch({actionType:l.CREATEBOX,box:t})},updataBox:function(e){n.dispatch({actionType:l.UPDATA_BOX,box:l.UPDATA_BOX})}};e.exports=r},137:function(e,t,a){var n=a(89),l=a(90),i=a(162).EventEmitter,r=a(60),s=a(163),o=[],c=r({},i.prototype,{addChangeListener:function(e){this.on("Click",e)},removeChangeListener:function(e){this.removeChangeListener("Click",e)},emitChange:function(){this.emit("Click")},getAllbox:function(){return o},getBoxById:function(e){return s.find(o,{id:e})}});n.register(function(e){switch(e.actionType){case l.INITIALIZE:o=e.initialData.boxs,c.emitChange();break;case l.CREATEBOX:o.push(e.box),c.emitChange();break;case l.UPDATA_BOX:var t=s.find(o,{id:e.box.id});s.indexOF(o,t);o.splice(t,1,e.box),c.emitChange()}}),e.exports=c},161:function(e,t,a){},199:function(e,t,a){e.exports=a(406)},204:function(e,t,a){},206:function(e,t,a){},208:function(e,t,a){},28:function(e,t,a){var n=a(89),l=a(90),i=a(162).EventEmitter,r=a(60),s=(a(163),[]),o=[],c=[],d=[],u=[],m=r({},i.prototype,{addChangeListener:function(e){this.on("Click",e)},removeChangeListener:function(e){this.removeChangeListener("Click",e)},emitChange:function(){this.emit("Click")},getAllbox:function(){return s},getBoxById:function(e,t){if(console.log("use id "+e+"from all data "+JSON.stringify(s)),e<s.length)var a=s[e];return a},getAllproducts:function(){return o},addboxid:function(){return u},addImageToBox:function(){return console.log("new image in box"+JSON.stringify(c)),c},addImageToP:function(){return console.log("new Pimage in box"+d.length),d},getAllboxImage:function(){return c},getAllpImages:function(){return d},getImagePById:function(e){if(console.log("here!"),!(d.length>0))return console.log("empty "+d),d;for(var t=0;t<d.length;t++)if(console.log(JSON.stringify(d)),d[t].pid===e)return console.log("if state!"),console.log(JSON.stringify(d[t])),d[t]},getImageAddr:function(e){if(console.log("here!"),!(d.length>0))return console.log("empty "+d),d;for(var t=0;t<d.length;t++)if(console.log(JSON.stringify(d)),d[t].pid===e)return console.log("if state!"),console.log(JSON.stringify(d[t])),d[d.length-1]},getImageById:function(e){if(console.log("here!"),!(c.length>0))return console.log("empty "+c),c;for(var t=0;t<c.length;t++)if(console.log(JSON.stringify(c)),c[t].bid===e)return console.log("if state!"),console.log(JSON.stringify(c[t])),c[t]}});n.register(function(e){switch(e.actionType){case l.CREATE_DETAIL:o=null,o=e.boxdetail,m.emitChange();break;case l.CREATEPRODUCT:var t=JSON.stringify(e.boxdata);s.push(e.boxdata),console.log("in stores:"+t),m.emitChange();break;case l.UPDATEPRODUCT:o.push(e.product),m.emitChange();case l.ADD_IMAGE:if(console.log(c),6===c.length){console.log("change _images");for(var a=0;a<c.length;a++)console.log(c[a]),c[a].length>=1?e.imageUrl.bid===c[a].bid&&(c[a].image=e.imageUrl.image):(console.log("no way in here"),console.log(c[a]),c[a].image="")}else console.log("init _images"),c.push(e.imageUrl);m.emitChange();break;case l.ADD_PIMAGE:d.push(e.pimageUrl),m.emitChange();break;case l.UPDATEBOXID:u.push(e.box),console.log(u),m.emitChange()}}),e.exports=m},31:function(e){e.exports=[{id:1,name:"hello1",info:"756566",dealed:"true",complete:"flase",addr:"222 street",tracknum:"7887775"},{id:2,name:"hello2",info:"654646",dealed:"true",complete:"true",addr:"xx3 street",tracknum:"7887775"},{id:3,name:"hello3",info:"534533",dealed:"flase",complete:"true",addr:"xx4 street",tracknum:"7887775"},{id:4,name:"hello4",info:"32616123",dealed:"flase",complete:"flase",addr:"xx5 street",tracknum:"7887775"},{id:5,name:"hello5",info:"21313",dealed:"flase",complete:"true",addr:"xx6 street",tracknum:"7887775"},{id:6,name:"hello6",info:"43535",dealed:"flase",complete:"true",addr:"xx1 street",tracknum:"7887775"}]},313:function(e,t,a){},34:function(e,t,a){var n=a(89),l=a(90),i={createProduct:function(e,t){if(console.log("index send: "+e),console.log("each data: "+JSON.stringify(t)),null!=t)if(0===t.status)var a={key:e,bid:t.bid,pn:t.name,rest:t.num,price:t.price,threshold:t.threshold};else a={key:e,bid:null};else a={key:e,bid:null};n.dispatch({actionType:l.CREATEPRODUCT,boxdata:a})},updataBox:function(e){var t=e;console.log("box id "+t),n.dispatch({actionType:l.UPDATEBOXID,box:t})},createDetail:function(e,t){console.log("detail index send: "+e),console.log("each detail: "+JSON.stringify(t));for(var a=[],i=0;i<t.length;i++)0===t[i].status&&a.push(t[i]);console.log(a),n.dispatch({actionType:l.CREATE_DETAIL,boxdetail:a})},updateProduct:function(e,t){var a={pid:e,name:t.name,bid:t.bid,num:t.num,status:t.status,price:t.price,image:t.image,id:t.id};n.dispatch({actionType:l.UPDATEPRODUCT,product:a})},addImage:function(e,t){var a=e;console.log("detail index send: "+a);var i={bid:e,image:t};console.log("new image!"+JSON.stringify(i)),n.dispatch({actionType:l.ADD_IMAGE,imageUrl:i})},addpImage:function(e,t){var a={pid:e,image:t};console.log("new Pimage!pid"+e+"imag"+t+JSON.stringify(a)),n.dispatch({actionType:l.ADD_PIMAGE,pimageUrl:a})}};e.exports=i},366:function(e,t,a){},402:function(e,t,a){},406:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),i=a(9),r=a.n(i),s=(a(204),a(12)),o=a(13),c=a(15),d=a(14),u=a(16),m=(a(206),a(415)),h=a(59),p=a(11),b=a(68),g=(a(208),a(416)),f=a(10),v=a(412),O=a(66),E=a(410),y=a(411),k=a(179),j=a(413),x=a(414),C=(a(102),y.a.Item),S=(k.a.Option,function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={visible:!1},a.handleAdd=a.handleAdd.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a.handleOk=a.handleOk.bind(Object(p.a)(Object(p.a)(a))),a.handleClear=a.handleClear.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleAdd",value:function(){this.setState({visible:!0})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFieldsAndScroll(function(e,a){e||(t.setState({visible:!1}),t.props.form.resetFields(),t.props.callback(a))})}},{key:"handleClear",value:function(){this.props.form.resetFields()}},{key:"handleOk",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}};return l.a.createElement("div",null,l.a.createElement(O.a,{type:"primary",className:"add",onClick:this.handleAdd},"\u6dfb\u52a0\u793c\u76d2"),l.a.createElement(j.a,{title:"\u65b0\u5efa\u793c\u76d2",visible:this.state.visible,onCancel:this.handleOk,onOk:this.handleOk},l.a.createElement(y.a,{onSubmit:this.handleSubmit},l.a.createElement(C,Object.assign({},t,{label:"boxid",hasFeedback:!0}),e("bid",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u793c\u76d2id\uff01"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u793c\u76d2id\uff01"}))),l.a.createElement(C,Object.assign({},t,{label:"\u793c\u76d2\u540d",hasFeedback:!0}),e("pn",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u793c\u76d2\u540d\uff01"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u793c\u76d2\u540d\uff01"}))),l.a.createElement(C,Object.assign({},t,{label:"\u793c\u76d2\u4ef7\u683c",hasFeedback:!0}),e("price",{rules:[{required:!0,message:"\u793c\u76d2\u4ef7\u683c"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u793c\u76d2\u4ef7\u683c\uff01"}))),l.a.createElement(C,Object.assign({},t,{label:"\u793c\u76d2\u5e93\u5b58",hasFeedback:!0}),e("rest",{rules:[{required:!0,message:"\u793c\u76d2\u6570\u91cf"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u793c\u76d2\u6570\u91cf\uff01"}))),l.a.createElement(C,Object.assign({},t,{label:"\u793c\u76d2\u9884\u7559",hasFeedback:!0}),e("threshold",{rules:[{required:!0,message:"\u793c\u76d2\u9884\u7559\u6570\u91cf"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u793c\u76d2\u9884\u7559\u6570\u91cf\uff01"}))),l.a.createElement(C,Object.assign({},{wrapperCol:{span:14,offset:8}},{style:{padding:10}}),l.a.createElement(O.a,{type:"primary",htmlType:"submit",size:"large"},"\u63d0\u4ea4"),l.a.createElement(O.a,{type:"primary",size:"large",onClick:this.handleClear},"\u91cd\u7f6e")))))}}]),t}(l.a.Component)),w=S=y.a.create()(S),N=(a(161),a(313),a(34)),D=a.n(N),I=a(28),P=a.n(I);function A(e){var t="image/jpeg"===e.type;t||g.a.error("You can only upload JPG file!");var a=e.size/1024/1024<2;return a||g.a.error("Image must smaller than 2MB!"),t&&a}var T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={loading:!1,imagebox:a.props.boxid,imagepid:a.props.pid},a.handleChange=function(e){if("uploading"!==e.file.status){if("done"===e.file.status){console.log("box in images js"+a.state.imagebox),console.log("pid in images js"+a.state.imagepid);var t=e.file.response.id;if(null!=t){console.log(t);a.state.imagebox;var n=a.state.imagepid;D.a.addpImage(n,t),P.a.addImageToP()}!function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}(e.file.originFileObj,function(e){return a.setState({imageUrl:e,loading:!1})})}}else a.setState({loading:!0})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=l.a.createElement("div",null,l.a.createElement(f.a,{type:this.state.loading?"loading":"plus"}),l.a.createElement("div",{className:"ant-upload-text",id:this.props.boxid},"Upload")),t=this.state.imageUrl;return l.a.createElement(v.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.cmapi.ca/cm_miniprogram/dev/public/index.php/api/sboxmanage/v1/uploadImg",beforeUpload:A,onChange:this.handleChange},t?l.a.createElement("img",{src:t,alt:"avatar"}):e)}}]),t}(l.a.Component),F=y.a.Item,B=(k.a.Option,function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={visible:!1},a.handleAdd=a.handleAdd.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a.handleOk=a.handleOk.bind(Object(p.a)(Object(p.a)(a))),a.handleClear=a.handleClear.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleAdd",value:function(){this.setState({visible:!0})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFieldsAndScroll(function(e,a){e||(t.setState({visible:!1}),t.props.form.resetFields(),t.props.callback(a))})}},{key:"handleClear",value:function(){this.props.form.resetFields()}},{key:"handleOk",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}};return l.a.createElement("div",null,l.a.createElement(O.a,{className:"add_product_btnp",onClick:this.handleAdd},"\u6dfb\u52a0\u8d27\u54c1"),l.a.createElement(j.a,{title:"\u65b0\u5efa\u8d27\u54c1",visible:this.state.visible,onCancel:this.handleOk,onOk:this.handleOk},l.a.createElement(y.a,{onSubmit:this.handleSubmit},l.a.createElement(F,Object.assign({},t,{label:"\u8d27\u54c1\u540d",hasFeedback:!0}),e("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d27\u54c1\u540d\uff01"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u8d27\u54c1\u540d\uff01"}))),l.a.createElement(F,Object.assign({},t,{label:"\u6570\u91cf",hasFeedback:!0}),e("num",{rules:[{required:!0,message:"\u6570\u91cf"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u6570\u91cf\uff01"}))),l.a.createElement(F,Object.assign({},t,{label:"\u4ef7\u683c",hasFeedback:!0}),e("price",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ef7\u683c"}]})(l.a.createElement(x.a,{type:"textarea",rows:3,placeholder:"\u8bf7\u8f93\u5165\u4ef7\u683c!"}))),l.a.createElement(F,Object.assign({},t,{label:"\u56fe\u7247",hasFeedback:!0}),e("pimg",{})(l.a.createElement(T,null))),l.a.createElement(F,Object.assign({},{wrapperCol:{span:14,offset:8}},{style:{padding:10}}),l.a.createElement(O.a,{type:"primary",htmlType:"submit",size:"large"},"\u63d0\u4ea4"),l.a.createElement(O.a,{type:"primary",size:"large",onClick:this.handleClear},"\u91cd\u7f6e")))))}}]),t}(l.a.Component)),_=B=y.a.create()(B),U=a(42),J=a.n(U),R=(a(366),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={dataSource:[{key:1,pid:1,name:"xxxx",num:222,price:2222,image:""},{key:2,pid:2,name:"ssss",num:100,price:2222,image:""}],first:!0,pbox:a.props.pbid,selectb:a.props.selectedb,boxid:"",productId:"",index:"",showImage:"",PersonCount:0,selectedRowKeys:[],selectedRows:[],record:"abc"},a.onDelete=a.onDelete.bind(Object(p.a)(Object(p.a)(a))),a.appendPerson=a.appendPerson.bind(Object(p.a)(Object(p.a)(a))),a.handleSelectedDelete=a.handleSelectedDelete.bind(Object(p.a)(Object(p.a)(a))),a.handleSelectedImage=a.handleSelectedImage.bind(Object(p.a)(Object(p.a)(a))),a.columns=[{title:"pid",dataIndex:"pid",key:"pid",width:"15%"},{title:"\u8d27\u54c1\u540d",dataIndex:"name",key:"name",width:"20%"},{title:"\u6570\u91cf",dataIndex:"num",key:"num",width:"15%"},{title:"\u4ef7\u683c",dataIndex:"price",key:"price",width:"15%"},{title:"\u8d27\u54c1\u56fe\u7247",key:"image",dataIndex:"image",render:function(e,t){return l.a.createElement("img",{src:t.image})}}],console.log("product selectbox id"+a.state.selectb),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(e){var t=this;console.log("show"),console.log("product box id"+this.state.pbox);var a=this.state.pbox;this.state.selectedb;J.a.get("https://www.cmapi.ca/cm_miniprogram/dev/public/index.php/api/sboxmanage/v1/getAllBoxes",function(e){if(null!=e.ea_boxes[a]){D.a.createDetail(a,e.ea_boxes[a].products);for(var t=0;t<e.ea_boxes[a].products.length;t++)D.a.addpImage(e.ea_boxes[a].products[t].pid,e.ea_boxes[a].products[t].image)}}).done(function(e){e.res;var a=P.a.getAllproducts();console.log("product detail"+JSON.stringify(a));var n=P.a.addImageToP();console.log("all images"+JSON.stringify(n));for(var l=[];0<n.length;n++)l.push(n[0].image);a.length;a.image=l,console.log("newtail"+a),t.setState({dataSource:a})})}},{key:"appendPerson",value:function(e){var t=this,a=[],n=0;this.state.dataSource.forEach(function(e){Object.keys(e).some(function(t){"id"===t&&(a[++n]=e.pid)})});var l=this.state.pbox+1,i=a.sort()[this.state.dataSource.length-1];e.key=l+"-"+(i+1),console.log(e);var r=P.a.addImageToP();console.log(JSON.stringify(r[r.length-1]));var s=r[r.length-1].image,o={bid:this.state.selectb,name:e.name,num:e.num,image:s,price:e.price,status:"0"},c=o;console.log("insert peoduct"+JSON.stringify(o)),J.a.post("https://www.cmapi.ca/cm_miniprogram/dev/public/index.php/api/sboxmanage/v1/insertProd",o,function(e,t){var a=e.pid,n=e.imageUrl;console.log("insert perod status "+t+"pid"+a+"data "+n),D.a.updateProduct(a,c),D.a.addpImage(a,n)}).done(function(e){e.newproduct;var a=P.a.getAllproducts();console.log("new products"+JSON.stringify(a)),console.log("create image");var n=P.a.getImageAddr(a.pid).image;console.log(JSON.stringify("image  "+n));var l=a.length-1;console.log("new index"+l),a[l].image=n,console.log("product image show:"+JSON.stringify(a.image)),t.setState({dataSource:a})})}},{key:"onDelete",value:function(e){console.log(e);var t=Object(h.a)(this.state.dataSource);t.splice(e,1),this.setState({dataSource:t})}},{key:"handleSelectedImage",value:function(e){console.log("callback!");var t=this.state.selectedRows;console.log(JSON.stringify(t[0].pid));var a=t[0].pid;console.log("pid!!!!"+a)}},{key:"handleSelectedDelete",value:function(){if(this.state.selectedRowKeys.length>0){Object(h.a)(this.state.dataSource);for(var e=this.state.selectedRows,t=[],a=this.state.dataSource,n=(P.a.getAllproducts(),0);n<e.length;n++){var l=e[n].pid,i={bid:e[n].bid,pid:e[n].pid};console.log("delete prod"+JSON.stringify(i)),J.a.post("https://www.cmapi.ca/cm_miniprogram/dev/public/index.php/api/sboxmanage/v1/deleteProd",i,function(e,t){console.log("delete prod"+t)}),t.push(t);for(var r=0;r<a.length;r++)l===a[r].pid&&(console.log("delete if"),a[r].status="1",a.splice(r,1))}this.setState({dataSource:a})}}},{key:"render",value:function(){var e=this,t={onChange:function(t,a){e.setState({selectedRowKeys:t,selectedRows:a}),console.log(a,t)},onSelect:function(e,t,a){},onSelectAll:function(e,t,a){},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name}}};return console.log("product pid"+this.state.productId),console.log(this.state.dataSource),console.log("set image"+JSON.stringify(this.state.dataSource)),l.a.createElement("div",{className:"detail",id:this.props.pbid},l.a.createElement("div",{id:"add_delete"},l.a.createElement(O.a,{type:"primary",className:"selectedDeletep",onClick:this.handleSelectedDelete},"\u5220\u9664\u6240\u9009"),l.a.createElement(_,{className:"add_product_btnp",callback:this.appendPerson})),l.a.createElement("div",{id:"div-right"},l.a.createElement(E.a,{columns:this.columns,dataSource:this.state.dataSource,className:"table",rowSelection:t})))}}]),t}(n.Component)),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.hideModal=function(){a.setState({visible:!1})},a.state={visible:!1,box:a.props.boxid,selectedbox:a.props.selectedbox},a.handlePopup=a.handlePopup.bind(Object(p.a)(Object(p.a)(a))),a.handleOkOrCancel=a.handleOkOrCancel.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handlePopup",value:function(){this.setState({visible:!0})}},{key:"handleOkOrCancel",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){return console.log("modal box id"+this.state.box),console.log("selectedbox"+this.props.selectedbox),l.a.createElement("div",{id:this.props.boxid},l.a.createElement(O.a,{className:"detail-btn",onClick:this.showModal}," \u793c\u76d2\u8be6\u60c5 "),l.a.createElement(j.a,{visible:this.state.visible,onOk:this.handleOkOrCancel,onCancel:this.handleOkOrCancel},l.a.createElement(R,{pbid:this.state.box,boxinfo:this.state.boxinfo,selectedb:this.props.selectedbox})))}}]),t}(l.a.Component),L=y.a.Item,q=(k.a.Option,function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={visible:!1},a.handleAdd=a.handleAdd.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a.handleOk=a.handleOk.bind(Object(p.a)(Object(p.a)(a))),a.handleClear=a.handleClear.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleAdd",value:function(){this.setState({visible:!0})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFieldsAndScroll(function(e,a){e||(t.setState({visible:!1}),t.props.form.resetFields(),t.props.callback(a))})}},{key:"handleClear",value:function(){this.props.form.resetFields()}},{key:"handleOk",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}};return l.a.createElement("div",null,l.a.createElement(O.a,{type:"primary",onClick:this.handleAdd},"\u4fee\u6539\u793c\u76d2"),l.a.createElement(j.a,{title:"\u4fee\u6539\u793c\u76d2",visible:this.state.visible,onCancel:this.handleOk,onOk:this.handleOk},l.a.createElement(y.a,{onSubmit:this.handleSubmit},l.a.createElement(L,Object.assign({},t,{label:"boxid",hasFeedback:!0}),e("bid",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u793c\u76d2id\uff01"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u793c\u76d2id\uff01"}))),l.a.createElement(L,Object.assign({},t,{label:"\u793c\u76d2\u540d",hasFeedback:!0}),e("pn",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u793c\u76d2\u540d\uff01"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u793c\u76d2\u540d\uff01"}))),l.a.createElement(L,Object.assign({},t,{label:"\u793c\u76d2\u4ef7\u683c",hasFeedback:!0}),e("price",{rules:[{required:!0,message:"\u793c\u76d2\u4ef7\u683c"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u793c\u76d2\u4ef7\u683c\uff01"}))),l.a.createElement(L,Object.assign({},t,{label:"\u793c\u76d2\u5e93\u5b58",hasFeedback:!0}),e("rest",{rules:[{required:!0,message:"\u793c\u76d2\u6570\u91cf"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u793c\u76d2\u6570\u91cf\uff01"}))),l.a.createElement(L,Object.assign({},t,{label:"\u793c\u76d2\u9884\u7559",hasFeedback:!0}),e("threshold",{rules:[{required:!0,message:"\u793c\u76d2\u9884\u7559\u6570\u91cf"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u793c\u76d2\u9884\u7559\u6570\u91cf\uff01"}))),l.a.createElement(L,Object.assign({},{wrapperCol:{span:14,offset:8}},{style:{padding:10}}),l.a.createElement(O.a,{type:"primary",htmlType:"submit",size:"large"},"\u63d0\u4ea4"),l.a.createElement(O.a,{type:"primary",size:"large",onClick:this.handleClear},"\u91cd\u7f6e")))))}}]),t}(l.a.Component)),z=(q=y.a.create()(q),a(399),y.a.Item),X=(k.a.Option,function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={visible:!1},a.handleAdd=a.handleAdd.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a.handleOk=a.handleOk.bind(Object(p.a)(Object(p.a)(a))),a.handleClear=a.handleClear.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleAdd",value:function(){this.setState({visible:!0})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFieldsAndScroll(function(e,a){e||(t.setState({visible:!1}),t.props.form.resetFields(),t.props.callback(a))})}},{key:"handleClear",value:function(){this.props.form.resetFields()}},{key:"handleOk",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}};return l.a.createElement("div",null,l.a.createElement(O.a,{className:"update-btn",onClick:this.handleAdd},"\u66f4\u65b0\u793c\u76d2"),l.a.createElement(j.a,{title:"\u66f4\u65b0\u793c\u76d2",visible:this.state.visible,onCancel:this.handleOk,onOk:this.handleOk},l.a.createElement(y.a,{onSubmit:this.handleSubmit},l.a.createElement(z,Object.assign({},t,{label:"\u8d27\u54c1\u540d",hasFeedback:!0}),e("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d27\u54c1\u540d\uff01"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u8d27\u54c1\u540d\uff01"}))),l.a.createElement(z,Object.assign({},t,{label:"\u6570\u91cf",hasFeedback:!0}),e("num",{rules:[{required:!0,message:"\u6570\u91cf"}]})(l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u6570\u91cf\uff01"}))),l.a.createElement(z,Object.assign({},t,{label:"\u9884\u7559",hasFeedback:!0}),e("threshold",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9884\u7559\u6570"}]})(l.a.createElement(x.a,{type:"textarea",rows:3,placeholder:"\u8bf7\u8f93\u5165\u9884\u7559\u6570!"}))),l.a.createElement(z,Object.assign({},t,{label:"\u4ef7\u683c",hasFeedback:!0}),e("price",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ef7\u683c"}]})(l.a.createElement(x.a,{type:"textarea",rows:3,placeholder:"\u8bf7\u8f93\u5165\u4ef7\u683c!"}))),l.a.createElement(z,Object.assign({},{wrapperCol:{span:14,offset:8}},{style:{padding:10}}),l.a.createElement(O.a,{type:"primary",htmlType:"submit",size:"large"},"\u63d0\u4ea4"),l.a.createElement(O.a,{type:"primary",size:"large",onClick:this.handleClear},"\u91cd\u7f6e")))))}}]),t}(l.a.Component)),G=X=y.a.create()(X);function K(e){var t="image/jpeg"===e.type;t||g.a.error("You can only upload JPG file!");var a=e.size/1024/1024<2;return a||g.a.error("Image must smaller than 2MB!"),t&&a}var H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={loading:!1,imagebox:a.props.boxid},a.handleChange=function(e){if("uploading"!==e.file.status&&"done"===e.file.status){console.log(e.file);var t=e.file.response.id;if(null!=t){console.log(t);var n=a.state.imagebox;D.a.addImage(n,t),P.a.addImageToBox()}!function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}(e.file.originFileObj,function(e){return a.setState({imageUrl:e,loading:!1})})}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=l.a.createElement("div",null,l.a.createElement(f.a,{type:this.state.loading?"loading":"plus"}),l.a.createElement("div",{className:"ant-upload-text",id:this.props.boxid},"Upload")),a=this.state.imageUrl;return l.a.createElement(v.a,(e={className:"uploadimg",name:"avatar",listType:"picture-card"},Object(b.a)(e,"className","avatar-uploader"),Object(b.a)(e,"showUploadList",!1),Object(b.a)(e,"action","https://www.cmapi.ca/cm_miniprogram/dev/public/index.php/api/sboxmanage/v1/uploadImg"),Object(b.a)(e,"beforeUpload",K),Object(b.a)(e,"onChange",this.handleChange),e),a?l.a.createElement("img",{src:a,alt:"avatar"}):t)}}]),t}(l.a.Component),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={dataSource:[{key:1,pid:1,pn:"xxxx",rest:222,price:9999,threshold:9999},{key:2,pid:2,pn:"ssss",rest:100,price:9999,threshold:9999}],box:a.props.boxid,selectedbox:"",first:!1,showImage:!1,index:"",count:0,selectedRowKeys:[],selectedRows:[],record:"abc"},a.onDelete=a.onDelete.bind(Object(p.a)(Object(p.a)(a))),a.appendPerson=a.appendPerson.bind(Object(p.a)(Object(p.a)(a))),a.handleSelectedDelete=a.handleSelectedDelete.bind(Object(p.a)(Object(p.a)(a))),a.handleSelectedUpdate=a.handleSelectedUpdate.bind(Object(p.a)(Object(p.a)(a))),a.handleChangeImage=a.handleChangeImage.bind(Object(p.a)(Object(p.a)(a))),a.columns=[{title:"bid",dataIndex:"bid",key:"bid",width:"1fr"},{title:"\u8d27\u54c1\u540d",dataIndex:"pn",key:"pn",width:"1fr"},{title:"\u5e93\u5b58",dataIndex:"rest",key:"rest",width:"1fr"},{title:"\u4ef7\u683c",dataIndex:"price",key:"price",width:"1fr"},{title:"\u9884\u7559",dataIndex:"threshold",key:"threshold",width:"1fr"}],a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(e){var t=this;console.log(this.state.box);var a=this.state.box;J.a.get("https://www.cmapi.ca/cm_miniprogram/dev/public/index.php/api/sboxmanage/v1/getAllBoxes",function(e){D.a.createProduct(a,e.ea_boxes[a]),console.log("get info"+JSON.stringify(e.ea_boxes[a])),null!=e.ea_boxes[a]&&(D.a.addImage(a,e.ea_boxes[a].image),P.a.addImageToBox())}).done(function(e){e.res;var n=[];n.push(P.a.getBoxById(a)),console.log("creat"),t.setState({first:!0,dataSource:n}),console.log("set state"+JSON.stringify(n))})}},{key:"appendPerson",value:function(e){var t=this,a=[],n=0;this.state.dataSource.forEach(function(e){Object.keys(e).some(function(t){"bid"===t&&(a[++n]=e.bid)})});a.sort()[this.state.dataSource.length-1];var l=P.a.getImageById(this.state.box);if(console.log(l),1!=l.length){var i={name:e.pn,price:e.price,image:l.image,num:e.rest,threshold:e.threshold,status:1};J.a.post("https://www.cmapi.ca/cm_miniprogram/dev/public/index.php/api/sboxmanage/v1/addBox",i,function(e,t){console.log(t+"back data"+JSON.stringify(e.bid)),D.a.updataBox(e.bid)}).done(function(a){a.upbox;if(null!=P.a.addboxid()){var n=P.a.addboxid();e.bid=n[n.length-1],console.log(n[n.length-1]),console.log(e)}var l=e.bid;t.setState({first:!0,selectedbox:l,dataSource:Object(h.a)(t.state.dataSource).concat([e])})})}else alert("\u8bf7\u4e0a\u4f20\u56fe\u7247");console.log("add box"+JSON.stringify(i))}},{key:"onDelete",value:function(e){console.log(e);var t=Object(h.a)(this.state.dataSource);t.splice(e,1),this.setState({dataSource:t})}},{key:"handleSelectedUpdate",value:function(e){var t=P.a.getImageById(this.state.box).image,a=this.state.selectedRows[0];if(null!=a){var n=a.key;a.pn=e.name,a.rest=e.num,a.price=e.price,a.threshold=e.threshold,console.log("box info"+JSON.stringify(a));var l={bid:a.bid,name:a.pn,price:a.price,image:t,num:a.rest,threshold:a.threshold,status:1};console.log("update box"+JSON.stringify(l)),J.a.post("https://www.cmapi.ca/cm_miniprogram/dev/public/index.php/api/sboxmanage/v1/updateBox",l,function(e,t){console.log("box update status:"+t)});for(var i=this.state.dataSource,r=0;r<i.length;r++)n===i[r].key&&(i[r]=a,console.log(JSON.stringify(i)));this.setState({dataSource:i,selectedbox:l.bid})}else alert("\u8bf7\u52fe\u9009\u4fee\u6539\u7684\u793c\u76d2")}},{key:"handleChangeImage",value:function(){this.setState({first:!1,showImage:!0})}},{key:"handleSelectedDelete",value:function(){var e=P.a.getImageById(this.state.box);if(console.log("delete!"),this.state.selectedRowKeys.length>0){Object(h.a)(this.state.dataSource);for(var t=this.state.selectedRows,a=[],n=this.state.dataSource,l=0;l<t.length;l++){console.log(JSON.stringify(t[l]));var i=t[l].key;if(1===e.length)var r={bid:t[l].bid,name:t[l].pn,price:t[l].price,image:e.image,num:t[l].rest,threshold:t[l].threshold,status:1};else r={bid:t[l].bid,name:t[l].pn,price:t[l].price,image:"",num:t[l].rest,threshold:t[l].threshold,status:1};a.push(r),console.log(JSON.stringify(r)),J.a.post("https://www.cmapi.ca/cm_miniprogram/dev/public/index.php/api/sboxmanage/v1/updateBox",r,function(e,t){console.log("box delete status:"+t)});for(var s=0;s<n.length;s++)i===n[s].key&&(n[s].status=1,n.splice(s,1),console.log(JSON.stringify(n)))}this.setState({dataSource:n})}else alert("\u9009\u62e9\u8981\u5220\u9664\u7684\u793c\u76d2")}},{key:"render",value:function(){var e=this;console.log("box id"+this.state.box),console.log(this.state.dataSource);var t={onChange:function(t,a){if(null!=a[0])var n=a[0].bid;else n=null;e.setState({selectedRowKeys:t,selectedRows:a,selectedbox:n}),console.log(a,t)},onSelect:function(e,t,a){},onSelectAll:function(e,t,a){},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name}}},a=this.state.box;console.log("376 boxid to get image "+a);var n,i=P.a.getImageById(a);return console.log(i),!0===this.state.first?void 0!=i?(console.log("preload"),n=l.a.createElement("img",{src:i.image}),this.state.first=!1):(console.log("need upload"),n=l.a.createElement(H,{boxid:a})):(console.log("no data,need upload!"),!0===this.state.showImage?(n=l.a.createElement(H,{boxid:a}),this.state.first=!1):n=l.a.createElement("img",{src:i.image})),console.log("selected box"+this.state.selectedbox),l.a.createElement("div",{className:"product"},l.a.createElement("div",{className:"ProductForm",id:this.props.boxid},l.a.createElement("div",{id:"div_left",onClick:this.handleChangeImage},n),l.a.createElement("div",{id:"add_delete"},l.a.createElement(w,{className:"add_product_btn",callback:this.appendPerson}),l.a.createElement(G,{className:"selectedUpdate",callback:this.handleSelectedUpdate}),l.a.createElement("div",{className:"productModal",id:a},l.a.createElement(M,{boxid:a,selectedbox:this.state.selectedbox})),l.a.createElement(O.a,{type:"danger",className:"selectedDelete",onClick:this.handleSelectedDelete},"\u5220\u9664\u6240\u9009")),l.a.createElement("div",{id:"div-right"},l.a.createElement(E.a,{columns:this.columns,dataSource:this.state.dataSource,className:"table",rowSelection:t}))),l.a.createElement("div",{className:"space"}))}}]),t}(n.Component),Y=m.a.Header,Z=m.a.Footer,$=(m.a.Sider,m.a.Content),Q=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<6;t++)e.push(l.a.createElement(W,{boxid:t}));return console.log(6),l.a.createElement("div",{className:"App"},l.a.createElement(m.a,null,l.a.createElement(Y,{className:"header"},l.a.createElement("ul",{className:"nav"},l.a.createElement("li",null,l.a.createElement("a",{href:"#/product"},"\u5546\u54c1")),l.a.createElement("li",null,l.a.createElement("a",{href:"#/order"},"\u8ba2\u5355")))),l.a.createElement($,null,e),l.a.createElement(Z,{className:"footer"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=a(408),ee=a(409),te=a(417),ae=a(407),ne=(a(75),a(402),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={currentPage:1,groupCount:5,startPage:1,totalPage:1},a.createPage=a.createPage.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({totalPage:this.props.pageConfig.totalPage}),this.props.pageCallbackFn(this.state.currentPage)}},{key:"createPage",value:function(){var e=this.state,t=e.currentPage,a=e.groupCount,n=e.startPage,i=e.totalPage,r=[];if(r.push(l.a.createElement("li",{className:1===t?"nomore":null,onClick:this.prePageHandeler.bind(this),key:0},"\u4e0a\u4e00\u9875")),i<=10)for(var s=1;s<=i;s++)r.push(l.a.createElement("li",{key:s,onClick:this.pageClick.bind(this,s),className:t===s?"activePage":null},s));else{r.push(l.a.createElement("li",{className:1===t?"activePage":null,key:1,onClick:this.pageClick.bind(this,1)},"1"));var o=0;o=a+n>i?i:a+n,t>=a&&r.push(l.a.createElement("li",{className:"",key:-1},"\xb7\xb7\xb7"));for(var c=n;c<o;c++)c<=i-1&&c>1&&r.push(l.a.createElement("li",{className:t===c?"activePage":null,key:c,onClick:this.pageClick.bind(this,c)},c));i-n>=a+1&&r.push(l.a.createElement("li",{className:"",key:-2},"\xb7\xb7\xb7")),r.push(l.a.createElement("li",{className:t===i?"activePage":null,key:i,onClick:this.pageClick.bind(this,i)},i))}return r.push(l.a.createElement("li",{className:t===i?"nomore":null,onClick:this.nextPageHandeler.bind(this),key:i+1},"\u4e0b\u4e00\u9875")),r}},{key:"pageClick",value:function(e){var t=this.state.groupCount,a=this.props.pageCallbackFn;e>=t&&this.setState({startPage:e-2}),e<t&&this.setState({startPage:1}),1===e&&this.setState({startPage:1}),this.setState({currentPage:e}),a(e)}},{key:"prePageHandeler",value:function(){var e=this.state.currentPage;if(0===--e)return!1;this.pageClick(e)}},{key:"nextPageHandeler",value:function(){var e=this.state,t=e.currentPage;if(++t>e.totalPage)return!1;this.pageClick(t)}},{key:"render",value:function(){var e=this.createPage();return l.a.createElement("ul",{className:"page-container"},e)}}]),t}(n.Component)),le=a(41),ie=a(31),re=(a(133),a(136)),se=a.n(re),oe=a(137),ce=a.n(oe),de=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("header",{className:"card-header"},l.a.createElement("h4",{className:"card-header--title"},this.props.orderId))}}]),t}(l.a.Component),ue=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"card",id:this.props.card},l.a.createElement(de,{orderId:this.props.orderid}),l.a.createElement("div",{className:"card-body"},l.a.createElement("p",{className:"date"},"March 20 2018"),l.a.createElement("h2",null,this.props.title),l.a.createElement("div",{className:"card-content"},l.a.createElement("label",null,"\u8054\u7cfb\u65b9\u5f0f"),l.a.createElement("p",{className:"body-content"},this.props.userinfo),l.a.createElement("label",null,"\u5730\u5740"),l.a.createElement("p",{className:"body-content"},this.props.addr),l.a.createElement("label",null,"tracking number"),l.a.createElement("p",{className:"body-content"},this.props.track),l.a.createElement("label",null,"\u8ba2\u5355\u53f7"),l.a.createElement("p",{className:"body-content"},this.props.order))))}}]),t}(l.a.Component),me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={indexo:a.props.count,isDeal:ie[a.props.count].dealed,iscomplete:ie[a.props.count].complete,isbox:!1,box:{}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this.state.box.id;e&&(this.setState({box:ce.a.getBoxById(e)}),console.log(e))}},{key:"setdealState",value:function(e){e.preventDefault();var t=this.state.box.id,a=!this.state.isDeal;console.log("card:"+t+"before:"+this.state.isDeal),this.setState({isDeal:a})}},{key:"setcomState",value:function(e){e.preventDefault();this.state.box.id;var t=!this.state.iscomplete;this.setState({iscomplete:t})}},{key:"componentDidMount",value:function(e){var t=this.state.indexo;se.a.createBox(t);var a=ce.a.getBoxById(t);this.setState({box:a}),console.log("creat")}},{key:"Savebox",value:function(e){var t=this.state.indexo;se.a.createBox(t),console.log("creat")}},{key:"render",value:function(){var e,t;return console.log("render"),console.log("newbox:"+this.state.box.addr),"true"===this.state.isDeal||!0===this.state.isDeal?(e="\u5904\u7406",console.log("true card:"+this.state.box.id+"isDeal:"+this.state.isDeal)):(e="\u672a\u5904\u7406",console.log(" flase card:"+this.state.box.id+"isDeal:"+this.state.isDeal)),t="true"===this.state.iscomplete||!0===this.state.iscomplete?"\u5b8c\u6210":"\u672a\u5b8c\u6210",l.a.createElement("div",{className:"cards",id:this.props.count,onClick:this.componentDidMount.bind(this)},l.a.createElement(ue,{card:this.state.box,cardid:this.state.box.id,orderid:this.state.box.id,title:this.state.box.name,userinfo:this.state.box.phone,addr:this.state.box.addr,track:this.state.box.tracking,order:this.state.box.id}),l.a.createElement("button",{onClick:this.setdealState.bind(this)},e),l.a.createElement("button",{onClick:this.setcomState.bind(this)},t))}}]),t}(n.Component),he=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={orders:[],dataList:[],pageConfig:{totalPage:le.length},totalodata:ie.length},e.getCurrentPage=e.getCurrentPage.bind(Object(p.a)(Object(p.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getCurrentPage",value:function(e){var t=this.state.orders,a=this.state.totalodata;console.log("loop");for(var n=0;n<a;n++)t.push(l.a.createElement(me,{count:n})),console.log("times"+n);this.setState({orders:t,dataList:le[e-1].name})}},{key:"render",value:function(){return l.a.createElement("div",{ClassName:"pages"},l.a.createElement("div",{className:"cardlist"},this.state.orders),this.state.dataList,l.a.createElement(ne,{pageConfig:this.state.pageConfig,pageCallbackFn:this.getCurrentPage}))}}]),t}(n.Component),pe=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("header",{className:"card-header"},l.a.createElement("h4",{className:"card-header--title"},this.props.orderId))}}]),t}(l.a.Component),be=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={isDeal:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({isDeal:!this.state.isDeal})}},{key:"render",value:function(){return this.state.isDeal?"\u672a\u5904\u7406":"\u5904\u7406",l.a.createElement("button",{className:"button button-primary",onClick:this.componentDidMount.bind(this)},l.a.createElement("i",{className:"fa fa-chevron-right"})," ",this.props.msg)}}]),t}(l.a.Component),ge=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={iscomplete:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({iscomplete:!this.state.iscomplete})}},{key:"render",value:function(){return l.a.createElement("button",{className:"button button-primary",onClick:this.componentDidMount.bind(this)},l.a.createElement("i",{className:"fa fa-chevron-right"})," ",this.props.cmsg)}}]),t}(l.a.Component),fe=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"card-body"},l.a.createElement("p",{className:"date"},"March 20 2018"),l.a.createElement("h2",null,this.props.title),l.a.createElement("div",{className:"card-content"},l.a.createElement("label",null,"\u8054\u7cfb\u65b9\u5f0f"),l.a.createElement("p",{className:"body-content"},this.props.userinfo),l.a.createElement("label",null,"\u5730\u5740"),l.a.createElement("p",{className:"body-content"},this.props.addr),l.a.createElement("label",null,"tracking number"),l.a.createElement("p",{className:"body-content"},this.props.track),l.a.createElement("label",null,"\u8ba2\u5355\u53f7"),l.a.createElement("p",{className:"body-content"},this.props.order)))}}]),t}(l.a.Component),ve=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={Orderdata:[],count:0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.count;this.setState({count:e+1,userdata:ie[e].name,Orderdata:ie[e].dealed,CompleteData:ie[e].complete})}},{key:"render",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var i,r=ie[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s,o,c=i.value;o="true"===c.complete?"\u672a\u5b8c\u6210":"\u5b8c\u6210","true"===c.dealed?(s="\u5904\u7406",e.push(l.a.createElement("div",{className:"card"},l.a.createElement(pe,{orderId:c.id}),l.a.createElement(fe,{title:c.name,userinfo:c.name,addr:c.addr,track:c.tracknum,order:c.id}),l.a.createElement(be,{msg:s}),l.a.createElement(ge,{cmsg:o})))):s="\u672a\u5904\u7406"}}catch(d){a=!0,n=d}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}return l.a.createElement("div",{className:"cards",onClick:this.componentDidMount.bind(this)},e)}}]),t}(n.Component),Oe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={orders:[],dataList:[],count:0,pageConfig:{totalPage:le.length}},e.getCurrentPage=e.getCurrentPage.bind(Object(p.a)(Object(p.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getCurrentPage",value:function(e){this.state.orders.push(l.a.createElement(ve,null)),this.setState({dataList:le[e-1].name})}},{key:"render",value:function(){return l.a.createElement("div",{ClassName:"pages"},l.a.createElement("div",{className:"or"},this.state.orders),this.state.dataList,l.a.createElement(ne,{pageConfig:this.state.pageConfig,pageCallbackFn:this.getCurrentPage}))}}]),t}(n.Component),Ee=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("header",{className:"card-header"},l.a.createElement("h4",{className:"card-header--title"},this.props.orderId))}}]),t}(l.a.Component),ye=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={isDeal:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({isDeal:!this.state.isDeal})}},{key:"render",value:function(){return this.state.isDeal?"\u672a\u5904\u7406":"\u5904\u7406",l.a.createElement("button",{className:"button button-primary",onClick:this.componentDidMount.bind(this)},l.a.createElement("i",{className:"fa fa-chevron-right"})," ",this.props.msg)}}]),t}(l.a.Component),ke=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={iscomplete:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({iscomplete:!this.state.iscomplete})}},{key:"render",value:function(){return l.a.createElement("button",{className:"button button-primary",onClick:this.componentDidMount.bind(this)},l.a.createElement("i",{className:"fa fa-chevron-right"})," ",this.props.cmsg)}}]),t}(l.a.Component),je=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"card-body"},l.a.createElement("p",{className:"date"},"March 20 2018"),l.a.createElement("h2",null,this.props.title),l.a.createElement("div",{className:"card-content"},l.a.createElement("label",null,"\u8054\u7cfb\u65b9\u5f0f"),l.a.createElement("p",{className:"body-content"},this.props.userinfo),l.a.createElement("label",null,"\u5730\u5740"),l.a.createElement("p",{className:"body-content"},this.props.addr),l.a.createElement("label",null,"tracking number"),l.a.createElement("p",{className:"body-content"},this.props.track),l.a.createElement("label",null,"\u8ba2\u5355\u53f7"),l.a.createElement("p",{className:"body-content"},this.props.order)))}}]),t}(l.a.Component),xe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={Orderdata:[],count:0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.count;this.setState({count:e+1,userdata:ie[e].name,Orderdata:ie[e].dealed,CompleteData:ie[e].complete})}},{key:"render",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var i,r=ie[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s,o,c=i.value;"true"===c.complete?(o="\u5b8c\u6210",e.push(l.a.createElement("div",{className:"card"},l.a.createElement(Ee,{orderId:c.id}),l.a.createElement(je,{title:c.name,userinfo:c.name,addr:c.addr,track:c.tracknum,order:c.id}),l.a.createElement(ye,{msg:s}),l.a.createElement(ke,{cmsg:o})))):o="\u672a\u5b8c\u6210",s="true"===c.dealed?"\u5904\u7406":"\u672a\u5904\u7406"}}catch(d){a=!0,n=d}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}return l.a.createElement("div",{className:"cards",onClick:this.componentDidMount.bind(this)},e)}}]),t}(n.Component),Ce=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={orders:[],dataList:[],count:0,pageConfig:{totalPage:le.length}},e.getCurrentPage=e.getCurrentPage.bind(Object(p.a)(Object(p.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getCurrentPage",value:function(e){this.state.orders.push(l.a.createElement(xe,null)),this.setState({dataList:le[e-1].name})}},{key:"render",value:function(){return l.a.createElement("div",{ClassName:"pages"},l.a.createElement("div",{className:"or"},this.state.orders),this.state.dataList,l.a.createElement(ne,{pageConfig:this.state.pageConfig,pageCallbackFn:this.getCurrentPage}))}}]),t}(n.Component),Se=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={current:"order-list"},a.handleClick=function(e){console.log("click ",e),a.setState({current:e.key})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(ae.a,{onClick:this.handleClick,selectedKeys:[this.state.current],mode:"horizontal"},l.a.createElement(ae.a.Item,{key:"order-list"},l.a.createElement(f.a,{type:"order-list"}),l.a.createElement("a",{href:"#/order"},"\u8ba2\u5355")),l.a.createElement(ae.a.Item,{key:"loading"},l.a.createElement(f.a,{type:"loading"}),l.a.createElement("a",{href:"#/order/deal"},"\u5904\u7406\u4e2d")),l.a.createElement(ae.a.Item,{key:"finish"},l.a.createElement(f.a,{type:"loading"}),l.a.createElement("a",{href:"#/order/complete"},"\u5df2\u5b8c\u6210")),l.a.createElement(ae.a.Item,{key:"schedule"},l.a.createElement("a",{href:"https://www.canadapost.ca/trackweb/en",target:"_blank",rel:"noopener noreferrer"},"Canada Post")))}}]),t}(l.a.Component),we=m.a.Header,Ne=(m.a.Footer,m.a.Content),De=function(){return l.a.createElement("div",{className:"order-container"},l.a.createElement(m.a,null,l.a.createElement(we,null,l.a.createElement("ul",{className:"nav"},l.a.createElement("li",null,l.a.createElement("a",{href:"#/product"},"\u5546\u54c1")),l.a.createElement("li",null,l.a.createElement("a",{href:"#/order"},"\u8ba2\u5355")))),l.a.createElement(Ne,{className:"content-box"},l.a.createElement(Se,null),l.a.createElement(he,null),",")))},Ie=a(78),Pe=Object(Ie.a)();"https://www.cmapi.ca/cm_miniprogram/dev/public/sbox-manage/#/order/deal"===window.location.href?(console.log("success"),Object(Ie.a)().push("/order/deal")):"https://www.cmapi.ca/cm_miniprogram/dev/public/sbox-manage/#/order/complete"===window.location.href?(console.log("complete success"),Object(Ie.a)().push("/order/complete")):Object(Ie.a)().push("/"),console.log(window.location.hash),console.log(window.location.href);var Ae=function(){return l.a.createElement(V.a,{history:Pe},l.a.createElement("div",null,l.a.createElement(ee.a,{exact:!0,path:"/",component:Q}),l.a.createElement(ee.a,{exact:!0,path:"/product",component:Q}),l.a.createElement(te.a,null,l.a.createElement(ee.a,{exact:!0,path:"/order",component:De}),l.a.createElement(ee.a,{exact:!0,path:"/order/deal",component:Oe}),l.a.createElement(ee.a,{exact:!0,path:"/order/complete",component:Ce}))))};r.a.render(l.a.createElement(Q,null),document.getElementById("root")),r.a.render(l.a.createElement(Ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},41:function(e){e.exports=[{id:1,name:"hello1",dealed:"true"},{id:2,name:"hello2",dealed:"true"},{id:3,name:"hello3",dealed:"true"},{id:4,name:"hello4",dealed:"true"},{id:5,name:"hello5",dealed:"true"},{id:6,name:"hello6",dealed:"true"},{id:7,name:"hello7",dealed:"true"},{id:11,name:"hello11",dealed:"true"},{id:12,name:"hello12",dealed:"true"},{id:13,name:"hello13",dealed:"true"},{id:14,name:"hello14",dealed:"true"},{id:15,name:"hello15",dealed:"true"},{id:16,name:"hello16",dealed:"true"},{id:17,name:"hello17",dealed:"true"}]},75:function(e,t,a){},89:function(e,t,a){var n=a(315).Dispatcher;e.exports=new n},90:function(e,t,a){"use strict";var n=a(317);e.exports=n({INITIALIZE:null,CREATEBOX:null,UPDATA_BOX:null,CREATEPRORDUCT:null,CREATE_DETAIL:null,ADD_IMAGE:null,UPDATEPRODUCT:null,ADD_PIMAGE:null,UPDATEBOXID:null})}},[[199,2,1]]]);
//# sourceMappingURL=main.94169515.chunk.js.map